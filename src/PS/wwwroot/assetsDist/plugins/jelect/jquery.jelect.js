!function(t,e,s,i){"use strict";var n,o="jelect",a="plugin_"+o,l={wrapper:".jelect",input:".jelect-input",current:".jelect-current",optionsWrapper:".jelect-options",option:".jelect-option",activeClass:"jelect_state_active",optionsWrapperActiveClass:"jelect-options_state_active",optionActiveClass:"jelect-option_state_active"};n=function(e,s){this.element=e,this.$element=t(e),this.options=t.extend(l,s),this._defaults=l,this.init()},n.prototype={init:function(e){var i=this,n=t.extend(i.options,e),o=i.$element,a=t(n.optionsWrapper);o.children(n.current).on("click.jelectCurrentClick",function(){var e=t(this),s=e.closest(n.wrapper),i=e.siblings(n.optionsWrapper);i.toggleClass(n.optionsWrapperActiveClass),a.filter(":visible").not(i).removeClass(n.optionsWrapperActiveClass),s.toggleClass(n.activeClass),o.not(s).removeClass(n.activeClass)}).siblings(n.optionsWrapper).on("click.jelectOptionClick",n.option,function(){var e=t(this),s=(e.data("val"),e.text());e.addClass(n.optionActiveClass).siblings().removeClass(n.optionActiveClass).closest(n.optionsWrapper).removeClass(n.optionsWrapperActiveClass).closest(n.wrapper).removeClass(n.activeClass).children(n.current).text(s).siblings(n.input).val(s).attr("data-text",s).trigger("change")}),t(s).on("click.jelectOutsideClick",function(e){var s=t(e.target);s.is(n.wrapper)||s.closest(n.wrapper).length||!a.filter(":visible").length||a.removeClass(n.optionsWrapperActiveClass).closest(n.wrapper).removeClass(n.activeClass)})},destroy:function(){this.$element.data(a,null)}},t.fn[o]=function(e){return this.each(function(){t(this).data(a)||t(this).data(a,new n(this,e))})}}(jQuery,window,document);